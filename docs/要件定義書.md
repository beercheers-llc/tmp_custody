# **要件定義書**

## **1. 業務概要**
本システムは、**鉄骨などの大型・重量物の預かり・管理を行うシステム**です。  
動的なエリア管理機能を備え、保管スペースの可視化や入出庫の履歴管理を行います。

---

## **2. 物品管理**
### **2.1 管理項目**
物品の管理は、**一意の管理番号**で識別します。登録時に以下の情報（物品情報）を入力します。

| 項目          | 内容 |
|--------------|------------------------------------------------|
| 管理番号      | システムが自動発行するユニークな番号 |
| 物品サイズ    | 幅（cm）、高さ（cm）、長さ（cm） |
| 数量          | 預かる個数 |
| 預かり開始日  | 預かった日付 |
| 預かり終了日  | 予定の保管終了日 |
| 出庫予定日    | 出庫する予定の日 |
| 保管場所      | 自動割り当てされるエリア |
| 所有者情報    | 依頼元企業、担当者情報 |
| 備考          | 特記事項（例: 破損リスク、要注意物品など） |

### **2.2 物品識別方法**
- 物品全体に対して管理番号を発行し、一意の識別情報として扱う。
- 管理番号は受付時に発行し、入庫の際に管理タグを物品や保管するエリアに付与する

---

## **3. 保管場所管理**
### **3.1 図面管理**
- **画像アップロード対応**
  - 図面を画像としてシステムにアップロード可能。
- **自動エリア分割**
  - AIまたはアルゴリズムで自動的にエリアを区分け。
- **手動調整**
  - エリアの編集・再配置を管理画面から操作可能。
- **可視化機能**
  - 保管エリアと物品の配置をリアルタイムで表示。

### **3.2 エリア区分**
- **動的エリア管理**
  - 固定ではなく、預かり物に応じて自動でスペースを割り当て。
- **空き状況の表示**
  - 物品の位置を**テトリスのブロックのように可視化**。
  - 倉庫の空きスペースをリアルタイムで確認可能。

---

## **4. 入出庫管理**
### **4.1 入庫時の流れ**
1. 物品情報を入力（またはCSVインポート）。
2. 管理番号を発行し、システムに登録。
3. システムが空きエリアを自動割り当て（手動変更も可能）。
4. 物品を保管場所に配置し、完了。

### **4.2 出庫時の流れ**
1. 出庫指示を出す（管理者 or 依頼元）。
2. システム上で確認し、出庫手続きを実施。
3. 出庫完了後、履歴を記録。

### **4.3 出庫指示**
- 依頼元（顧客）からシステム上で出庫依頼可能。
- 出庫依頼の承認フローを設定（オプション）。
- 出庫時の写真記録（オプション）。

### **4.4 入出庫履歴**
- 誰がいつ入庫・出庫を行ったかの記録を保存。
- 検索・レポート機能を提供。

---

## **5. ユーザー管理**
### **5.1 権限設定**
| ユーザータイプ  | 権限 |
|--------------|------------------------------------------------|
| **管理者**    | 全機能利用可能 |
| **倉庫担当者** | 入出庫管理、物品配置、出庫手配、保管場所管理 |
| **顧客**      | 自社の物品情報閲覧、出庫依頼 |

### **5.2 顧客のアクセス権限**
- 預けた物品一覧の閲覧
- 預かり期間の確認
- 出庫依頼の送信

---

## **6. 請求管理**
### **6.1 請求書の作成**
- 請求書の作成
- 請求書の送付

---

## **7. システムのインフラ**
### **7.1 運用環境**
- **VPS / クラウド（AWS, さくらVPSなど）**
- **24時間365日稼働**
- **定期的なバックアップ（1日1回 or 週次）**
- **障害時の復旧対策（RTO: 4時間以内）**

---

## **8. ユーザーインターフェース**
### **8.1 利用端末**
- **PC（管理用）**
- **タブレット（倉庫作業用）**
- **スマートフォン（顧客向け）**

---

## **9. セキュリティ**
### **9.1 アクセス管理**
- ID / パスワード認証（必須）
- **2段階認証（オプション）**
- **IP制限 / VPN接続（オプション）**

### **9.2 監査ログ**
- **操作履歴の記録**
  - 誰がいつ何を操作したか記録
- **データの暗号化**
  - データベースの暗号化
  - 通信のSSL/TLS化

---

